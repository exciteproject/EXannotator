<html>

<head>
    <title>GESIS Reference String Extraction Tool</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/jquery-ui.min.css" rel="stylesheet">
    <script src="js/jquery-3.2.1.min.js"></script>
</head>

<body>
        <!-- start of help video display  -->
        <div id="light" class="white_content">
                <div class="row textalignr">
                    <div class="col-md-12">
                        <a href="javascript:void(0)" id="btnClose">Close</a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <p class="textalignc">
                            <!-- "Video For Everybody" v0.4.1 by Kroc Camen of Camen Design <camendesign.com/code/video_for_everybody> -->
                            <!-- ================================================================================================== -->
                            <!-- first try HTML5 playback: if serving as XML, expand `controls` to `controls="controls"` and autoplay likewise       -->
                            <!-- warning: playback does not work on iPad/iPhone if you include the poster attribute! fixed in iOS4.0                 -->
                            <video width="100%" height="90%" controls preload="none">
                                <!-- MP4 must be first for iPad! -->
                                <source src="images/EXRef-Identifier.mp4" type="video/mp4" />
                                <!-- WebKit video    -->
                                <source src="__VIDEO__.webm" type="video/webm" />
                                <!-- Chrome / Newest versions of Firefox and Opera -->
                                <source src="__VIDEO__.OGV" type="video/ogg" />
                                <!-- Firefox / Opera -->
                                <!-- fallback to Flash: -->
                                <object width="640" height="384" type="application/x-shockwave-flash" data="__FLASH__.SWF">
                                    <!-- Firefox uses the `data` attribute above, IE/Safari uses the param below -->
                                    <param name="movie" value="__FLASH__.SWF" />
                                    <param name="flashvars" value="image=__POSTER__.JPG&amp;file=__VIDEO__.MP4" />
                                    <!-- fallback image. note the title field below, put the title of the video there -->
                                    <img src="__VIDEO__.JPG" width="640" height="360" alt="__TITLE__" title="No video playback capabilities, please download the video below"
                                    />
                                </object>
                            </video>
                            <!-- you *must* offer a download link as they may be able to play the file locally. customise this bit all you want -->
                            <p class="textalignc">
                                <strong>Download Video:</strong>
                                <a href="images/EXRef-Identifier.mp4">"MP4"</a>
                            </p>
                            <!-- <video controls="controls" width="500" height="400" style="border: 1px solid rgb(216, 216, 223);">
                                <source src="img/help.mp4" type="video/amp4"/>
                            </video> -->
                        </p>
                    </div>
                </div>
        
            </div>
            <div id="fade" class="black_overlay"></div>
            <!-- end of help video display  -->
    <!-- <div id="light" class="white_content">
        <div class="row textalignr">
            <div class="col-md-12">
                <a href="javascript:void(0)" id="btnClose">Close</a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <p>
                    <strong>First step is opening pdf and text file (Text file content is extracted text from pdf).</strong>
                </p>
                <ul>
                    <li>Put the pdf and text file in a same folder with the same name.</li>
                    <li>Upload files By click on
                        <strong>&lsquo;choose Files (txt Or Pdf)&rsquo;</strong> button .</li>
                    <li>Start annotating.</li>
                    <li>To Export output as a xml file (at the end annotating) click on
                        <strong>&lsquo;Export to XML&rsquo;</strong> button.</li>
                </ul>
                <p>
                    <strong>There are different ways to Insert &lt;ref&gt; Tag to references : </strong>
                </p>
                <ul>
                    <li>For one line references just Triple click on reference line.</li>
                    <li>For one, two or more lines : at first select part of reference lines by mouse then click on
                        <strong>&lsquo;Insert Tag&rsquo;</strong> button or press
                        <strong>&lsquo;I&rsquo;</strong> key on keyboard. In this case more than two words should be selected
                        each time.
                    </li>
                    <li>After this step the background color of reference will change and the tag will added at the begining
                        and end of it.</li>
                    <li>There is no difference between different color.</li>
                </ul>
                <p>
                    <strong>There are three ways to remove color and delete tag:</strong>
                </p>
                <ul>
                    <li>Double click on one world in colored reference, then one pop-up box will display now click on
                        <strong> &lsquo;yes&rsquo;</strong> button in popup.</li>
                    <li>Or Select a part of colored line then click on
                        <strong>&lsquo;Remove Tag&rsquo;</strong> button.</li>
                    <li>Or Select a part of colored line then press
                        <strong>&lsquo;R&rsquo;</strong> key on keyboard.</li>
                </ul>
                <p>
                    <strong>Export output as a xml file : </strong>
                </p>
                <ul>
                    <li>To Export output as a xml file after you are finished annotating click on
                        <strong>&lsquo;Export to XML&rsquo;</strong> button.</li>
                </ul>
            </div>
        </div>

    </div>

    </div>
    <div id="fade" class="black_overlay"></div> -->

    <!-- <div class="row textalignc" id="helpdiv" style="vertical-align: middle;">
        <p>
        How insert ref Tag: 1- Select part of line (more than 2 words) and click on "Inser Tag" button. 2- triple click on line 3-
        Select more than one line and click on "Inser Tag" button How Delete ref : 1- Double Click on colored refrence
        </p>

    </div> -->
    <div class="row textalignc" id="spinner" style="vertical-align: middle;">
        <!--<img src="images/page-loader.gif" > -->
    </div>
    <div class="container-fluid">
        <div class="popup" id="popupdiv">
            <span class="popuptext" id="myPopup">
                <div class="row textalignc">
                    <div class="row textalignc">
                        Remove Tag?!
                    </div>
                    <div class="row textalignc">
                        <div class="col-md-12">
                            <button style='background-color: #C0D4EE' id="delbtn" value="delbtn" class="btn btn-default noborderbtn text-wrap" type="button"
                                onclick="RemoveTag();">Yes</button>
                            <button style='background-color: #C0D4EE' id="delbtnno" value="delbtnno" class="btn btn-default noborderbtn text-wrap" type="button"
                                onclick="">No</button>
                        </div>
                    </div>
                </div>
            </span>
        </div>

        <div class="row pad-10 textalignc">
            <label id="lblMsg" style="color: red;"></label>
            <label id="errorMsg" style="color: red;"></label>&nbsp;
        </div>
        <div class="panel panel-default top">
            <div class="panel-body">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 margin-bottom-5">
                        <label for="btnUploadbothfile" class="btn btn-primary">Choose Files (.txt/.pdf)</label>
                        <input type="file" id="btnUploadbothfile" class="btn btn-default" onchange="show_bothFile();this.value=null;return false;"
                            accept="text/plain, application/pdf,.xml" multiple/> &nbsp;

                        <button class="btn btn-success" id="btnInsertTag" value="btnInsertTag" type="button" onclick="ChangeColor_TranslateColor('ref_line');">
                            <u>
                                I</u>nsert Tag (whole line)</button>
                        &nbsp;
                        <button class="btn btn-success" id="btnInsertPartTag" value="btnInsertPartTag" type="button" onclick="ChangeColor_TranslateColor('ref_part');">
                            
                                Insert Tag (<u>P</u>art)</button>
                        &nbsp;
                        <button class="btn btn-secondary" id="btnInsertOther" value="btnInsertOther" type="button" onclick="ChangeColor_TranslateColor('other');">
                            
                                nsert Tag (<u>O</u>ther)</button>
                        &nbsp;
                        <button class="btn btn-danger" id="btnRemoveTag" value="btnRemoveTag" type="button" onclick="RemoveTag();">
                            <u>R</u>emove Tag</button>
                        &nbsp;
                        <button class="btn btn-primary" type="button" onclick="saveText_AsXmlFile();">Export To XML</button>
                        &nbsp;

                        <button class="btn btn-primary" id="btnReload">Reload page</button>
                        &nbsp;
                        <button class="btn btn-primary" id="btnhelp">Help</button>
                        
                        &nbsp; &nbsp;
                                <a href="http://excite.west.uni-koblenz.de/samplefile/19943.zip">sample file to test</a>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-2 col-lg-2 textalignr">
                        <a href="http://excite.west.uni-koblenz.de/" target="_blank"><img height="50px" src="images/exCite_logo_150.png"
                                alt="img"></a>
                                &nbsp;&nbsp;
                        <p>EXRef-Identifier</p>&nbsp;&nbsp;
                        <!-- <input id="btnhelp" type="image" src="images/help.png" alt="help" width="24" height="24"> -->
                    </div>
                </div>
            </div>
        </div>

        <div class="row" style="margin-top: 50px;">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row bold">
                            <div class="col-md-2 ">
                                &nbsp;Text File:
                            </div>
                            <div class="col-md-3">
                                <label id="txtSize"></label>
                            </div>
                            <div class="col-md-2">
                                <input id="btndeltxt" type="image" src="images/delete2.png" alt="Delete Text File" width="24" height="24" style="display : none; ">
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-md-12 nowrap">
                                <label id="content1" class="textLabel" Style="overflow:scroll;"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row bold">
                            <div class="col-md-2">
                                &nbsp;PDF File:
                            </div>
                            <div class="col-md-3">
                                <label id="pdfSize"></label>
                            </div>
                            <div class="col-md-2">
                                <input id="btndelpdf" type="image" src="images/delete2.png" alt="Delete pdf File" width="24" height="24" style="display : none; ">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 nowrap">
                                <iframe id="pdfiframe" class="iframecss" align="centert" src=""></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="row">
                    <div class="col-md-12">
                            &nbsp;Preview section (Text + XML Tags):
                        
                        <button id="showTagedTextdiv" class="btn btn-success" onclick="">Update Text</button>
                        <br/>&nbsp;
                    </div>
                </div>
                <div class="row pad-10" id="tagedTextdiv">
                    <div class="col-md-12" style="display : none; ">
                        <textarea disabled id="txaxml" class="txaxml"></textarea>
                    </div>
                    <div class="col-md-12 ptxaxmlcss">
                        <xmp id="ptxaxml"> </xmp>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="scripts.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>

</html>